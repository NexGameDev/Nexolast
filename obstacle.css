/* =========================
   GLOBAL RESET & MOBILE LOCK
========================= */
*{
  box-sizing:border-box;
  margin:0;
  padding:0;
  user-select:none;
  -webkit-tap-highlight-color:transparent;
}

html,body{
  width:100%;
  height:100%;
  overflow:hidden;
  touch-action:none;
  font-family:'Press Start 2P', monospace;
  background:#000;
  color:#fff;
}

/* =========================
   APP ROOT
========================= */
#app{
  width:100vw;
  height:100vh;
  display:flex;
  flex-direction:column;
  align-items:center;
}

/* =========================
   HEADER
========================= */
#header{
  padding:10px 0 4px;
  text-align:center;
}

#game-title{
  font-size:16px;
  letter-spacing:2px;
}

/* obstacle mode score */
#score-panel{
  display:flex;
  gap:20px;
  justify-content:center;
  margin-top:6px;
}

.score-box{
  background:#111;
  border-radius:8px;
  padding:6px 10px;
  font-size:9px;
}

.score-box .label{
  display:block;
  opacity:.7;
  margin-bottom:4px;
}

/* =========================
   MAIN AREA (AMAN HP)
========================= */
#main{
  flex:1;
  width:100%;
  max-width:420px;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding-top:12px;
}

/* =========================
   BOARD WRAPPER
========================= */
#board-wrapper{
  background:#0d0d0d;
  padding:10px;
  border-radius:18px;
  margin-top:10px;
}

/* =========================
   BOARD GRID
========================= */
#board{
  display:grid;
  grid-template-columns:repeat(8,1fr);
  grid-template-rows:repeat(8,1fr);
  gap:6px;
  width:300px;
  height:300px;
}

/* =========================
   BOARD CELL
========================= */
.cell{
  background:#1a1a1a;
  border-radius:8px;
  box-shadow:
    inset 2px 2px rgba(255,255,255,.05),
    inset -2px -2px rgba(0,0,0,.6);
  transition:transform .15s ease, box-shadow .15s ease, background .15s ease;
}

/* filled block */
.cell.filled{
  background:#e11d48;
  box-shadow:
    inset 3px 3px rgba(255,255,255,.25),
    inset -3px -3px rgba(0,0,0,.35);
}

/* OBSTACLE CELL */
.cell.obstacle{
  background:#334155;
  box-shadow:
    inset 2px 2px rgba(255,255,255,.15),
    inset -2px -2px rgba(0,0,0,.5);
  position:relative;
}

.cell.obstacle::after{
  content:"âœ•";
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:14px;
  color:#94a3b8;
  opacity:.8;
}

/* preview */
.cell.preview-valid{ outline:3px solid #22c55e; }
.cell.preview-invalid{ outline:3px solid #ef4444; }

/* =========================
   BLOCK LIST
========================= */
#block-list{
  margin-top:14px;
  display:flex;
  gap:18px;
}

/* BLOCK */
.block{
  display:grid;
  gap:4px;
  cursor:grab;
  transform-origin:center;
  transition:transform .15s ease;
}

.block:active{
  transform:scale(.95);
}

/* BLOCK TILE */
.block div{
  width:26px;
  height:26px;
  background:#e11d48;
  border-radius:6px;
  box-shadow:
    inset 2px 2px rgba(255,255,255,.25),
    inset -2px -2px rgba(0,0,0,.35);
}

/* =========================
   ANIMATIONS
========================= */
@keyframes pop{
  0%{transform:scale(.8);opacity:0}
  100%{transform:scale(1);opacity:1}
}

@keyframes clear{
  0%{transform:scale(1);opacity:1}
  100%{transform:scale(.3);opacity:0}
}

@keyframes floatUp{
  0%{transform:translateY(0) scale(1);opacity:1}
  100%{transform:translateY(-40px) scale(1.2);opacity:0}
}

.pop{ animation:pop .15s ease-out; }
.clear{ animation:clear .2s ease-in forwards; }

/* =========================
   FX LAYER
========================= */
#fx-layer{
  position:fixed;
  inset:0;
  pointer-events:none;
}

.floating-text{
  position:absolute;
  color:#fff;
  font-size:12px;
  animation:floatUp .6s ease-out forwards;
}

/* =========================
   GAME OVER
========================= */
#game-over{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  align-items:center;
  justify-content:center;
}

#game-over.hidden{ display:none; }

/* =========================
   YOU WIN
========================= */
#you-win{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.7);
  display:flex;
  align-items:center;
  justify-content:center;
}

#you-win.hidden{ display:none; }

.game-over-box{
  background:#111;
  padding:24px;
  border-radius:12px;
  text-align:center;
}

.game-over-box h2{
  margin-bottom:16px;
  font-size:14px;
}

.game-over-box button{
  font-family:inherit;
  font-size:10px;
  padding:10px 16px;
  background:#22c55e;
  color:#000;
  border:none;
  border-radius:8px;
  cursor:pointer;
}

.game-over-box button:active{
  transform:scale(.95);
}
